<span class="p-float-label">
  <ng-container *ngIf="vm$ | async as vm">
    <p-dropdown
      id="columnGroupSelectionDropdown"
      (onClear)="clearGroupSelection()"
      (onChange)="changeGroupSelection($event)"
      [options]="vm.allGroupKeys"
      [placeholder]="placeholderKey | translate"
      [showClear]="vm.selectedGroupKey !== defaultGroupKey"
      [(ngModel)]="vm.selectedGroupKey"
      appendTo="body"
    >
      <ng-template let-item pTemplate="item">
        <div
          class="flex align-items-center gap-2 justify-content-between h-2rem"
        >
          <div
            *ngIf="
              vm.groupKeys.includes(item) ||
              item === customGroupKey ||
              (vm.selectedGroupKey === item &&
                !hasConfig(vm.searchConfigs, item))
            "
          >
            {{ item ? (item | translate) : '' }}
          </div>
          <div *ngIf="hasConfig(vm.searchConfigs, item)">
            {{ item }}
          </div>
          <div
            *ngIf="
              hasConfig(vm.searchConfigs, item) &&
              !isReadonly(vm.searchConfigs, item)
            "
          >
            <!-- <button
              pButton
              type="button"
              class="p-button-rounded font-medium p-button-text p-button-icon-only"
              (click)="onSearchConfigEdit($event, config)"
            >
              <span class="{{ editIcon }}"></span>
            </button> -->
            <button
              pButton
              type="button"
              class="p-button-rounded font-medium p-button-text p-button-icon-only"
              (click)="
                onSearchConfigDelete(
                  $event,
                  getConfigByName(vm.searchConfigs, item)
                )
              "
            >
              <span class="{{ deleteIcon }}"></span>
            </button>
          </div>
        </div>
      </ng-template>
      <ng-template let-item pTemplate="selectedItem">
        {{ item ? (item | translate) : '' }}
      </ng-template>
    </p-dropdown>
    <label *ngIf="vm.allGroupKeys.length" for="columnGroupSelectionDropdown">
      {{ 'OCX_CUSTOM_GROUP_COLUMN_SELECTOR.DROPDOWN_LABEL' | translate }}
    </label>
  </ng-container>
</span>
